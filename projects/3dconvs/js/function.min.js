function create_heatmap(t,e,n,r,a){var l;e.selectAll("rect").append("g").data(n).enter().append("rect").attr("class","cell").attr("width",cellSize).attr("height",cellSize).attr("x",function(t,e){return xScale(t[1])}).attr("y",function(t,e){return yScale(t[0])}).attr("fill",function(t){return"in"==a?d3.interpolateBuPu(linear(t[2])):d3.interpolateGnBu(linear(t[2]))}).on("mouseover",function(t){l=this.style.fill,this.style.fill="rgb(255, 167, 167)",d3.select(this).style("opacity",.5),tooltip.style("visibility","visible").style("top",d3.event.pageY-30+"px").style("left",d3.event.pageX+20+"px"),tooltip.select("div").html("flow: "+t[2])}).on("mouseout",function(){this.style.fill=l,d3.select(this).style("stroke","none"),d3.select(this).style("opacity",1),tooltip.style("visibility","hidden")}),1==t&&e.append("g").attr("class","y axis").call(yAxis),e.append("g").attr("class","x axis").attr("transform","translate(10,"+(y_elements.length*cellSize+cellSize/2)+")").call(xAxis).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","-.5em")}function getTimeOfOneDay(t){var e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return[["hour",e+n/60+r/3600],["minute",n+r/60]]}function rotationTransform2(t,e,n){return"rotate("+("hour"==t[0]?t[1]%12*30:6*t[1])+","+e+","+n+")"}var showD3Clock=function(t,e){var n=t,r=n/2,a=t/2,l=4,i=n/2-l;!function(){for(var t=Math.round(.2*i),n=Math.round(.075*i),o=0;o<60;++o){var s,u;o%5==0?(s=t,u="hourtick"):(s=n,u="minutetick"),e.append("line").attr("class",u+" face").attr("x1",r).attr("y1",l).attr("x2",r).attr("y2",l+s).attr("transform","rotate("+6*o+","+r+","+a+")")}}(),e.selectAll("line.hand").data(function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return[["hour",e+n/60+r/3600],["minute",n+r/60]]}()).enter().append("line").attr("class",function(t){return t[0]+" hand"}).attr("x1",r).attr("y1",function(t){return a+function(t){return"second"==t[0]?Math.round(.25*i):Math.round(.1*i)}(t)}).attr("x2",r).attr("y2",function(t){return i-function(t){return"hour"==t[0]?Math.round(.45*i):Math.round(.9*i)}(t)}).attr("transform",function(t){return"rotate("+("hour"==t[0]?t[1]%12*30:6*t[1])+","+r+","+a+")"})};