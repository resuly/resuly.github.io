---
layout: post
title: "如何让自己成为GTA5的主角？"
date: "2017-08-16 17:25:29 +0800"
author: "resuly"
header-img: "img/post-bg-gta.jpg"
tags:
  - 3D模型
---

## 前言
很久之前就想写这篇教程，一直拖拖、拖到现在。故事起源是在去年，玩2K17的时候，看到正版玩家可以在手机上安装一个APP，然后通过手机摄像头扫描自己的头像，生成一个基于自己样子的球员，开始征战NBA生涯。（这个APP名字叫MyNBA2K17，正版玩家才可以用）

后来就开始琢磨，怎么才能把自己放到游戏里面呢？经过各种折腾和尝试，终于把自己放到了GTA5里面。效果如如下：

<video width="650" controls="controls" autoplay="autoplay" onloadstart="this.volume=0">
  <source src="/img/in_post/2017/08/IMG_4189.mp4" type="video/mp4">
</video>


## PC端软件

实际上最终的步骤，是将游戏中的模型替换成你自己的样子。

经过几番搜索，终于找到了这个软件：
![](/img/in_post/2017/08/20170816173654.jpg)
[Uraniom 官网](http://www.uraniom.co/)

Uraniom的主要特点就是能把3D模型直接导入到游戏里面，支持的游戏种类有很多（2K、实况足球、GTA5等等）。你可以基于模型针对不同的游戏调整你的身高、服饰、发型、脸型等等。如果想还原游戏本来的主人公也很方便，可以在软件内直接操作。如果你是开发者，还可以调用他们提供的丰富的API进行各种高端操作。
![](/img/in_post/2017/08/20170816173920.jpg)

问题的关键就是怎么才能弄到自己的3D模型？

## 3D模型

大体上有两种方案可以得到你自己头部的3D模型。一种是用专业的红外测距摄像头拍摄多张照片，配合软件自动生成3D模型。另一种是从多个角度拍摄多张照片，然后用软件合成一个3D头像。


#### 测距摄像头

这种方法需要专业设备，门槛有点高（有的动辄几十万），但也不是高不可及。他们的最大特点就是准确度高，模型精度好，不会出现脸变形之类的情况，有些软件甚至可以支持实时的3D模型。

比较亲民的产品有很多，比如 Wii 和 Kinect 的摄像头，他们能感应你游戏时候的动作，其实都是利用该类摄像头发出红外线去测量空间物体的距离。他们也可以当3D模型扫描仪使用，如果你有这类设备，可以看看这个网站：[http://www.kscan3d.com/](http://www.kscan3d.com/)

除此以外，还有一个专业产品，名字叫 Structure Sensor （[https://structure.io/](https://structure.io/)），是一家创业公司。他们的摄像头可以直接外接安装在iPad或者iPhone上，然后通过配套软件，可以扫描物体的3D模型。全套买下来要3000多人民币，虽然有点贵，不过除了扫描人像以外，你可以直接拿来做空间扫描测距了（我没买）。这篇测评可以参考一下：[https://www.youtube.com/watch?v=mnOzzbl0Uqw](https://www.youtube.com/watch?v=mnOzzbl0Uqw)

![20170816180933](/img/in_post/2017/08/20170816180933.jpg)

![20170816181840](/img/in_post/2017/08/20170816181840.jpg)



#### 普通图像合成

由于预算不是很足，只能走这条路了。普通图像合成的意思就是给头部从不同的角度拍摄N张图片，然后通过算法合成一个3D模型。这类软件也很多，可能是技术原因，我最终成功的只有 Trnio。

#### Agisoft PhotoScan

这是一款Windows平台软件，建议在阴天或者建筑物的阴影下面进行多角度人像拍摄raw照片。如果没有单反的话，可以试试 iPhone 上面的ProCam软件，可以输出raw格式（亲测效果不佳，最终头顶会有一个大洞，效果不是很好，可能是手机摄像头能力还是太弱）。不过这个教程的作者最终实现的效果很不错，如下图。（教程地址：[https://www.youtube.com/watch?v=GEsRcFQ1_H8](https://www.youtube.com/watch?v=GEsRcFQ1_H8)）如果你有相机的话，可以试一试。P.S. 这软件是收费的。

![20170816182759](/img/in_post/2017/08/20170816182759.jpg)

![20170816182606](/img/in_post/2017/08/20170816182606.jpg)

#### AutoCAD123

AutoCAD 这名字是不是很亲切，这个一款免费的手机软件。用它拍了很多照片，效果一般般，而且上传时间太长了，最终没能得到一个比较好的模型。

#### Trnio（推荐）

这个软件和AutoCAD123很像，不过个人感觉合成效果更好。建议找一个朋友，在灯光充足的地方帮你360度拍摄。一次大概会建议你拍60多张照片，个人经验是从头顶向下的角度拍一圈，正面拍一圈，再对准下巴向上的角度再拍一圈。这样能保证无死角，否则会出现模型出现一个洞的情况。然后拍的时候尽量不要动，一动脸就会变形。可以到官网上看一看大家拍摄好的模型：[http://www.trnio.com/](http://www.trnio.com/)

一旦完成以后，可以点击这个分享按钮，分享到 Sketchfab。然后在Sketchfab上面就可以看到自己账户下面多了一个模型，然后就可以下载这个模型就好了。

![trnio](/img/in_post/2017/08/trnio.jpg)

然后到Uraniom软件里面添加刚刚下载的模型，新建一个人物进行各种调整（肤色、头的大小、发型之类的），添加到游戏就好了。

![20170816184442](/img/in_post/2017/08/20170816184442.jpg)

![20170816184607](/img/in_post/2017/08/20170816184607.jpg)


最后感谢 Xiaoming & HeNan 帮我拍了无数组照片，最终得到了一个比较好的模型结果。

感谢观看，玩的愉快。
